<div class="head" @QuickUp>
  <div class="head-box" nz-flex nzAlign="center" nzJustify="center" nzVertical>
    <h1 class="head-title zcool-kuaile-regular" *ngIf="!isMobile"><strong>「再花」</strong>和<strong>「方方老婆大人」</strong>的生活点滴
    </h1>
    <h2 class="head-title zcool-kuaile-regular" *ngIf="isMobile"><strong>「再花」</strong>和<strong>「方方老婆大人」</strong>的生活点滴
    </h2>
    <div class="buttons">
      <div class="head-box" nz-flex nzAlign="center" nzJustify="center" nzGap="middle" nzVertical>
        <div nz-flex nzGap="small">
          <button class="search-button" role="button" style="background-color: #C6E7FF;" (click)="ALL()">
            <span>全部</span>
          </button>
          <button class="search-button" role="button" style="background-color: #FFDDAE;" (click)="orderData()">
            <span>
              {{ order? '倒序': '正序' }}
            </span>
          </button>
        </div>
        <!-- <div nz-flex nzGap="small">
          <ng-container *ngFor="let year of yearData">
            <button class="search-button" role="button" style="background-color: #D4F6FF;" (click)="getLifes(year)">
              <span>{{ year }}年</span>
            </button>
          </ng-container>
        </div> -->

        <nz-radio-group [(ngModel)]="year" nzButtonStyle="solid" (ngModelChange)="lifeChanged($event)">
          <div nz-flex nzGap="small">
            <ng-container *ngFor="let item of yearData">
              <label class="search-button" nz-radio-button nzValue="{{item}}">{{ item }}年</label>
            </ng-container>
          </div>
        </nz-radio-group>
        <nz-radio-group [(ngModel)]="tag" nzButtonStyle="solid" (ngModelChange)="TagChanged($event)">
          <div nz-flex nzGap="small">
            <ng-container *ngFor="let item of tagData">
              <label class="search-button" nz-radio-button nzValue="{{item.label}}">{{ item.label }}</label>
            </ng-container>
          </div>
        </nz-radio-group>
      </div>
    </div>

  </div>
</div>
<nz-spin [nzTip]="'Loading...'" [nzSpinning]="loading">
  <app-life-timeline style="width: 100vw;" [Data]="lifeData" *ngIf="!isMobile"></app-life-timeline>

  <div class="life_box_mobile" *ngIf="isMobile">
    <nz-timeline>
      <ng-container *ngFor="let item of lifeData">
        <nz-timeline-item [nzColor]="getAccentColor(item.tag[0])">
          <nz-card class="img_card_mobile" [nzActions]="[date]" (click)="getLifeDetailMobile(item)">
            <nz-card-meta [nzTitle]="item.title" [nzDescription]="contentTemplate"></nz-card-meta>
          </nz-card>
          <!-- <ng-template #coverTemplate>
            <img style="object-fit: cover;height: 100px;" [src]="item.image_first[0].url" />
          </ng-template> -->
          <ng-template #contentTemplate>
            <div nz-flex nzAlign="center" nzJustify="space-between">
              <p style="font-size: 14px !important;color:rgb(100, 100, 100);margin: 0;" nz-typography nzEllipsis
                [nzContent]="item.content" [nzEllipsisRows]="3"></p>
              <nz-avatar style="min-width: 64px;" [nzSize]="64" [nzSrc]="item.image_first[0].url"></nz-avatar>
            </div>
          </ng-template>
          <ng-template #date>
            <p nz-typography nzType="secondary" style="font-size: 14px;text-align: end;margin: 0 25px 0 0 ;">{{
              item.date | date:
              'yyyy年M月d日' }} </p>
          </ng-template>
        </nz-timeline-item>
      </ng-container>
    </nz-timeline>
  </div>

</nz-spin>


<nz-back-top [nzTemplate]="tpl" [nzVisibilityHeight]="100">
  <ng-template #tpl>
    <span nz-icon nzType="rocket" nzTheme="outline" style="font-size: 48px;"></span>
  </ng-template>
</nz-back-top>